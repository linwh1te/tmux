##### 基础设置 #####

# 改前缀
unbind C-b
set -g prefix C-a
bind C-a send-prefix

# 鼠标支持
set -g mouse on

# 256 色
set -g default-terminal "tmux-256color"

# 窗口编号从 1 开始
set -g base-index 1
setw -g pane-base-index 1

# 更快响应
set -sg escape-time 0

# 更好的分屏快捷键（保留 | / -，并恢复 % / " 兼容）
unbind '"'
unbind %
bind | split-window -h
bind - split-window -v
bind % split-window -h
bind '"' split-window -v

# vim 风格 pane 切换（无需 prefix）
bind -n C-h select-pane -L
bind -n C-l select-pane -R
bind -n C-j select-pane -D
bind -n C-k select-pane -U

# 快速重载
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded!"

##### 视觉与状态栏（Tokyo Night-ish，偏冷静高对比） #####

# 状态栏在顶部
set -g status-position top
set -g status-interval 1

# 状态栏整体颜色
set -g status-style bg=#1a1b26,fg=#c0caf5

# 窗口列表样式：非当前窗口更低对比，当前窗口高亮块更明显
setw -g window-status-style fg=#565f89,bg=#1a1b26
setw -g window-status-current-style fg=#1a1b26,bg=#7aa2f7,bold

# 更现代一点的窗口标题格式（更清晰）
setw -g window-status-format        " #[fg=#565f89]#I:#W "
setw -g window-status-current-format " #[fg=#1a1b26,bg=#7aa2f7,bold]#I:#W "

# 左侧：session + user@host（适合多机 SSH）
set -g status-left-length 60
set -g status-left "#[fg=#7aa2f7,bold] #S #[fg=#565f89]|#[fg=#89b4fa] #(whoami)@#H "

# 右侧：当前 pane 路径 + 时间（不和 zsh 的 git prompt 抢戏）
set -g status-right-length 120
set -g status-right "#[fg=#9aa5ce] #{pane_current_path} #[fg=#565f89]|#[fg=#bb9af7] %Y-%m-%d %H:%M:%S "

# pane 边框：让聚焦 pane 对比更强（高亮明显）
set -g pane-border-style fg=#2f3549
set -g pane-active-border-style fg=#ff9e64

# 非聚焦 pane 略暗（帮助你一眼看出 focus）
set -g window-style bg=#0f1117
set -g window-active-style bg=#1a1b26

##### 插件 #####

set -g @plugin 'tmux-plugins/tpm'

# 必备
set -g @plugin 'tmux-plugins/tmux-sensible'

# 会话恢复
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

# vim 与 tmux 无缝切 pane
set -g @plugin 'christoomey/vim-tmux-navigator'

# 复制增强
set -g @plugin 'tmux-plugins/tmux-yank'

# 主题插件（你现在主要用手写状态栏，这个先留着不冲突）
set -g @plugin 'catppuccin/tmux'

run '~/.tmux/plugins/tpm/tpm'